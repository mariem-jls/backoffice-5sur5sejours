{% extends 'partials/layout-vertical.html.twig' %}

{% block title %}
	Profile
{% endblock %}

{% block css %}
	<!-- Plugins css -->
	<link href="/css/profile.css" rel="stylesheet" type="text/css"/>
	    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">

{% endblock %}

{% block topbar %}
	{{ include('partials/topbar.html.twig', { page_title: 'Profile' }) }}
{% endblock %}

{% block body %}
	<div class="row" id="profile">
		<div class="col-xl-4 col-md-6">
			<div class="card">
				<div class="text-center card-body">

					<div>
						<img src="/images/users/user-9.jpg" class="rounded-circle avatar-xl img-thumbnail mb-3" alt="profile-image">

						{% for label, messages in app.flashes %}
							{% for message in messages %}
								<div class="flash-message" data-label="{{ label }}" data-message="{{ message }}"></div>
							{% endfor %}
						{% endfor %}

						<div class="text-start">
							<p class="text-muted font-13">
								<strong>Full Name :</strong>
								<span class="ms-2">{{profil.nom }}
									{{ profil.prenom }}</span>
							</p>

							<p class="text-muted font-13">
								<strong>Mobile :</strong>
								<span class="ms-2">{{ profil.numMobile }}</span>
							</p>

							<p class="text-muted font-13">
								<strong>Email :</strong>
								<span class="ms-2">{{ profil.email }}</span>
							</p>

							<p class="text-muted font-13 m-b-5">
								<strong>Adresse :</strong>
								<span class="ms-2">{{ profil.adresse }}</span>
							</p>

							<a href="{{ path('updateprofil') }}" class="btn btn-success">
								Modifier</a>

						</div>

					</div>

				</div>
			</div>

		</div>
	</div>
{% endblock %}

{% block javascript %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
<script src="/libs/jquery-toast-plugin/jquery.toast.min.js"></script>
<script>
        $(document).ready(function() {
            $('.flash-message').each(function() {
                var label = $(this).data('label');
                var message = $(this).data('message');

                if (label === 'success') {
                    toastr.success(message);
                } else if (label === 'error') {
                    toastr.error(message);
                }
                // Add more conditions for other flash message types if needed
            });
        });
    </script>
	{% endblock %}
